const data = {
    "Computer Engineering": {
        "Semester 1": {
            "Mathematics-I": [
                { title: 'Mathematics-I 2024', year: '2024', pdf: 'math_2024.pdf' }
            ],
            "Physics": [
                { title: 'Physics 2024', year: '2024', pdf: 'physics_2024.pdf' }
            ],
            "Basic ELectrical": [
                { title: 'Basic ELectrical 2024', year: '2024', pdf: 'BEC_2024.pdf' }
            ],
            "Programming & Problem Solving": [
                { title: 'Programming & Problem Solving 2024', year: '2024', pdf: 'PPS_2024.pdf' }
            ]
           



        },

        "Semester 2": {
            "Mathematics-II": [
                { title: 'Mathematics-II 2024', year: '2024', pdf: 'mathII_2024.pdf' }
            ],
            "Chemistry": [
                { title: 'Chemistry 2024', year: '2024', pdf: 'chemistry_2024.pdf' }
            ],
            "Basic Electronic": [
                { title: 'Basic Electronic 2024', year: '2024', pdf: 'electronic_2024.pdf' }
            ],
            "Engineering Graphics": [
                { title: 'Engineering Graphics 2024', year: '2024', pdf: 'graphics_2024.pdf' }
            ],
            "Object Oriented Programming": [
                { title: 'Object Oriented Programming 2024', year: '2024', pdf: 'OOP_2024.pdf' }
            ],
        },

        "Semester 3": {
            "Discrete Mathematics": [
                { title: 'Discrete Mathematics 2024', year: '2024', pdf: 'discrete_2024.pdf' }
            ],
            "Data Structure & Algorithms": [
                { title: 'Data Structure & Algorithms 2024', year: '2024', pdf: 'DSA_2024.pdf' }
            ],"Digital ELectronic & Computer Organization": [
                { title: 'Digital ELectronic & Computer Organization', year: '2024', pdf: 'DEL_2024.pdf' }
            ],
            "Object Oriented Paradigms java": [
                { title: 'Object Oriented java 2024', year: '2024', pdf: 'OOPm_2024.pdf' }
            ]
        }
        , "Semester 4": {
            "Advanced Mathematics for Comp": [
                { title: 'Advanced Mathematics for Comp', year: '2024', pdf: 'mathIII_2024.pdf' }
            ],
            "Microprocessor": [
                { title: 'Microprocessor', year: '2024', pdf: 'Microprocessor_2024.pdf' }
            ],
            "Database Management system": [
                { title: 'Database Management system', year: '2024', pdf: 'DBMS_2024.pdf' }
            ],
            "Operation System": [
                { title: 'Operation System', year: '2024', pdf: 'OS_2024.pdf' }
            ],
            "Software Engineering": [
                { title: 'Software Engineering', year: '2024', pdf: 'SE_2024.pdf' }
            ]
        }
    },
    "Information Technology": {
        "Semester 1": {
            "Mathematics": [
                { title: 'Mathematics 2023', year: '2023', pdf: 'math_2023.pdf' }
            ]
        },
        "Semester 2": {
            "Mathematics": [
                { title: 'Mathematics 2023', year: '2023', pdf: 'math_2023.pdf' }
            ]
        },
        "Semester 3": {
            "Mathematics": [
                { title: 'Mathematics 2023', year: '2023', pdf: 'math_2023.pdf' }
            ]
        }
        , "Semester 4": {
            "Mathematics": [
                { title: 'Mathematics 2023', year: '2023', pdf: 'math_2023.pdf' }
            ]
        }, "Semester 5": {
            "Mathematics": [
                { title: 'Mathematics 2023', year: '2023', pdf: 'math_2023.pdf' }
            ]
        }
        , "Semester 6": {
            "Mathematics": [
                { title: 'Mathematics 2023', year: '2023', pdf: 'math_2023.pdf' }
            ]
        }
    },
    "Mechanical Engg": {
        "Semester 1": {
            "Mathematics": [
                { title: 'Mathematics 2023', year: '2023', pdf: 'math_2023.pdf' }
            ]
        },
        "Semester 2": {
            "Mathematics": [
                { title: 'Mathematics 2023', year: '2023', pdf: 'math_2023.pdf' }
            ]
        },
        "Semester 3": {
            "Mathematics": [
                { title: 'Mathematics 2023', year: '2023', pdf: 'math_2023.pdf' }
            ]
        }
        , "Semester 4": {
            "Mathematics": [
                { title: 'Mathematics 2023', year: '2023', pdf: 'math_2023.pdf' }
            ]
        }, "Semester 5": {
            "Mathematics": [
                { title: 'Mathematics 2023', year: '2023', pdf: 'math_2023.pdf' }
            ]
        }
        , "Semester 6": {
            "Mathematics": [
                { title: 'Mathematics 2023', year: '2023', pdf: 'math_2023.pdf' }
            ]
        }
    },
    "Electrical Engg": {
        "Semester 1": {
            "Mathematics": [
                { title: 'Mathematics 2023', year: '2023', pdf: 'math_2023.pdf' }
            ]
        },
        "Semester 2": {
            "Mathematics": [
                { title: 'Mathematics 2023', year: '2023', pdf: 'math_2023.pdf' }
            ]
        },
        "Semester 3": {
            "Mathematics": [
                { title: 'Mathematics 2023', year: '2023', pdf: 'math_2023.pdf' }
            ]
        }
        , "Semester 4": {
            "Mathematics": [
                { title: 'Mathematics 2023', year: '2023', pdf: 'math_2023.pdf' }
            ]
        }, "Semester 5": {
            "Mathematics": [
                { title: 'Mathematics 2023', year: '2023', pdf: 'math_2023.pdf' }
            ]
        }
        , "Semester 6": {
            "Mathematics": [
                { title: 'Mathematics 2023', year: '2023', pdf: 'math_2023.pdf' }
            ]
        }
    }, "Civil Engg": {
        "Semester 1": {
            "Mathematics": [
                { title: 'Mathematics 2023', year: '2023', pdf: 'math_2023.pdf' }
            ]
        },
        "Semester 2": {
            "Mathematics": [
                { title: 'Mathematics 2023', year: '2023', pdf: 'math_2023.pdf' }
            ]
        },
        "Semester 3": {
            "Mathematics": [
                { title: 'Mathematics 2023', year: '2023', pdf: 'math_2023.pdf' }
            ]
        }
        , "Semester 4": {
            "Mathematics": [
                { title: 'Mathematics 2023', year: '2023', pdf: 'math_2023.pdf' }
            ]
        }, "Semester 5": {
            "Mathematics": [
                { title: 'Mathematics 2023', year: '2023', pdf: 'math_2023.pdf' }
            ]
        }
        , "Semester 6": {
            "Mathematics": [
                { title: 'Mathematics 2023', year: '2023', pdf: 'math_2023.pdf' }
            ]
        }
    }, "AIDS Engg": {
        "Semester 1": {
            "Mathematics": [
                { title: 'Mathematics 2023', year: '2023', pdf: 'math_2023.pdf' }
            ]
        },
        "Semester 2": {
            "Mathematics": [
                { title: 'Mathematics 2023', year: '2023', pdf: 'math_2023.pdf' }
            ]
        },
        "Semester 3": {
            "Mathematics": [
                { title: 'Mathematics 2023', year: '2023', pdf: 'math_2023.pdf' }
            ]
        }
        , "Semester 4": {
            "Mathematics": [
                { title: 'Mathematics 2023', year: '2023', pdf: 'math_2023.pdf' }
            ]
        }, "Semester 5": {
            "Mathematics": [
                { title: 'Mathematics 2023', year: '2023', pdf: 'math_2023.pdf' }
            ]
        }
        , "Semester 6": {
            "Mathematics": [
                { title: 'Mathematics 2023', year: '2023', pdf: 'math_2023.pdf' }
            ]
        }
    }, "EN&TC Engg": {
        "Semester 1": {
            "Mathematics": [
                { title: 'Mathematics 2023', year: '2023', pdf: 'math_2023.pdf' }
            ]
        },
        "Semester 2": {
            "Mathematics": [
                { title: 'Mathematics 2023', year: '2023', pdf: 'math_2023.pdf' }
            ]
        },
        "Semester 3": {
            "Mathematics": [
                { title: 'Mathematics 2023', year: '2023', pdf: 'math_2023.pdf' }
            ]
        }
        , "Semester 4": {
            "Mathematics": [
                { title: 'Mathematics 2023', year: '2023', pdf: 'math_2023.pdf' }
            ]
        }, "Semester 5": {
            "Mathematics": [
                { title: 'Mathematics 2023', year: '2023', pdf: 'math_2023.pdf' }
            ]
        }
        , "Semester 6": {
            "Mathematics": [
                { title: 'Mathematics 2023', year: '2023', pdf: 'math_2023.pdf' }
            ]
        }
    }



};


// Initialize branch navigation
function initBranchNavigation() {
    const branchNav = document.getElementById('branchNav');
    Object.keys(data).forEach(branch => {
        const button = document.createElement('button');
        button.className = 'nav-button';
        button.textContent = branch;
        button.onclick = () => showSemesters(branch);
        branchNav.appendChild(button);
    });
}

// Show semesters for selected branch
function showSemesters(branch) {
    const semesterNav = document.getElementById('semesterNav');
    semesterNav.innerHTML = '';
    semesterNav.style.display = 'flex';

    Object.keys(data[branch]).forEach(semester => {
        const button = document.createElement('button');
        button.className = 'nav-button';
        button.textContent = semester;
        button.onclick = () => showSubjects(branch, semester);
        semesterNav.appendChild(button);
    });

    // Hide subject navigation and papers container
    document.getElementById('subjectNav').style.display = 'none';
    document.getElementById('papersContainer').innerHTML = '';
}

// Show subjects for selected semester
function showSubjects(branch, semester) {
    const subjectNav = document.getElementById('subjectNav');
    subjectNav.innerHTML = '';
    subjectNav.style.display = 'flex';

    Object.keys(data[branch][semester]).forEach(subject => {
        const button = document.createElement('button');
        let showname = document.querySelectorAll('button').innerText;
        button.className = 'nav-button';
        button.textContent = subject;
        console.log(subject);
        button.onclick = () =>showPapers(branch, semester, subject);
        subjectNav.appendChild(button);

    });


    // Show papers for the first subject by default
    const firstSubject = Object.keys(data[branch][semester])[0];
    showPapers(branch, semester, firstSubject);
}



// Show papers for selected subject
function showPapers(branch, semester, subject) {
    const container = document.getElementById('papersContainer');
    container.innerHTML = '';
    data[branch][semester][subject].forEach(paper => {
        const card = document.createElement('div');
        card.className = 'paper-card';
        card.innerHTML = `
            <h3 class="paper-title">${paper.title}</h3>
            <p class="paper-year">Year: ${paper.year}</p>
            <div class="btn-group">
                <button class="btn view-btn" onclick="viewPDF('${paper.pdf}')">View</button>
                <a href="${paper.pdf}" download class="btn download-btn">Download</a>
            </div>`;
        container.appendChild(card);
    });
}
let subpdf = document.querySelectorAll(".subjectNav").innerText;
console.log(subpdf);

// PDF viewer functions
function viewPDF(pdfUrl) {
    console.log(pdfUrl);
    document.getElementById('pdfViewer').style.display = 'block';
    document.getElementById('pdfFrame').src = pdfUrl;
}

function closePDF() {
    document.getElementById('pdfViewer').style.display = 'none';
    document.getElementById('pdfFrame').src = '';
}

// Search functionality
document.getElementById('searchInput').addEventListener('input', function (e) {
    const query = e.target.value.toLowerCase();
    const papers = document.querySelectorAll('.paper-card');

    papers.forEach(paper => {
        const title = paper.querySelector('.paper-title').textContent.toLowerCase();
        const year = paper.querySelector('.paper-year').textContent.toLowerCase();
        if (title.includes(query) || year.includes(query)) {
            paper.style.display = 'block';
        } else {
            paper.style.display = 'none';
        }
    });
});

// Initialize app
initBranchNavigation();

// Close PDF viewer when clicking outside
window.onclick = function (event) {
    const viewer = document.getElementById('pdfViewer');
    if (event.target === viewer) {
        closePDF();
    }
}



//login


